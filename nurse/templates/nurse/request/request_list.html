{% extends 'nurse/nurse.html' %}
{% load static %}

{% block main %}
<div class="Container">
		
    <h1>Analysis Requests</h1>

    <h2>Pending Requests</h2>
    {% if pending_requests %}
        <ul>
            {% for request in pending_requests %}
            <li>
                <strong>Analysis Request ID:</strong> {{ request.id }}<br>
                <strong>Appointment:</strong> {{ request.appointment }}<br>
                <strong>Client:</strong> {{ request.appointment.client.user.first_name }}   
                {{ request.appointment.client.user.last_name }}
                <br>
                <strong>Creation Time:</strong> {{ request.creation_time }}<br>
                <a href="{% url 'request_detail' request.id %}">View Details</a>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No pending requests found.</p>
    {% endif %}
    
    <h2>Working On Requests</h2>
    {% if working_on_requests %}
        <ul>
            {% for request in working_on_requests %}
            <li>
                <strong>Analysis Request ID:</strong> {{ request.id }}<br>
                <strong>Appointment:</strong> {{ request.appointment }}<br>
                <strong>Client:</strong> {{ request.appointment.client.user.first_name }}   
                {{ request.appointment.client.user.last_name }}<br>
                <strong>Creation Time:</strong> {{ request.creation_time }}<br>
                <a href="{% url 'request_detail' request.id %}">View Details</a>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No working on requests found.</p>
    {% endif %}
    
    <h2>Finished Requests</h2>
    {% if finished_requests %}
        <ul>
            {% for request in finished_requests %}
            <li>
                <strong>Analysis Request ID:</strong> {{ request.id }}<br>
                <strong>Appointment:</strong> {{ request.appointment }}<br>
                <strong>Client:</strong> {{ request.appointment.client.user.first_name }}   
                {{ request.appointment.client.user.last_name }}<br>
                <strong>Creation Time:</strong> {{ request.creation_time }}<br>
                <a href="{% url 'request_detail' request.id %}">View Details</a>
            </li>
            {% endfor %}
        </ul>
    {% else %}
        <p>No finished requests found.</p>
    {% endif %}
    
</div>

{% endblock main %}
